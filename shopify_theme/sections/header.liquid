<header class="site-header">
    <div class="header-top container">
        <!-- Left: Search Icon -->
        <div class="header-left">
            <button aria-label="Search" class="icon-btn search-toggle">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
        </div>

        <!-- Center: Logo -->
        <div class="header-center">
            <a href="{{ routes.root_url }}" class="logo-text font-serif">SCENTS BY SARA</a>
            <a href="{{ routes.root_url }}" class="logo-mobile font-serif">BYSARA</a>
        </div>

        <!-- Right: Icons & Hamburger -->
        <div class="header-right nav-icons">
            <button aria-label="Account" class="icon-btn" onclick="window.location.href='{{ routes.account_url }}'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </button>
            <button aria-label="Wishlist" class="icon-btn" onclick="window.location.href='#'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                    </path>
                </svg>
            </button>
            <button aria-label="Cart" class="icon-btn" onclick="window.location.href='{{ routes.cart_url }}'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <path d="M16 10a4 4 0 0 1-8 0"></path>
                </svg>
            </button>

            <!-- Hamburger Menu Toggle (Mobile Only) -->
            <button class="hamburger-btn icon-btn" aria-label="Toggle Menu" aria-expanded="false">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>

    <!-- Bottom: Navigation Links (Desktop) -->
    <div class="header-bottom">
        <nav class="nav-links">
            {% for link in linklists.main-menu.links %}
                <div class="nav-item {% if link.title == 'SHOP' %}has-mega-menu{% endif %}">
                    <a href="{{ link.url }}">{{ link.title }}</a>

                    {% if link.title == 'SHOP' %}
                        <!-- Mega Menu Dropdown -->
                        <div class="mega-menu">
                            <div class="mega-menu-container">
                                <div class="mega-menu-grid">
                                    {% for childlink in link.links %}
                                    <div class="mega-col">
                                        <h4>{{ childlink.title }}</h4>
                                        {% if childlink.links != blank %}
                                            <ul>
                                            {% for grandchildlink in childlink.links %}
                                                <li><a href="{{ grandchildlink.url }}">{{ grandchildlink.title }}</a></li>
                                            {% endfor %}
                                            </ul>
                                        {% endif %}
                                    </div>
                                    {% endfor %}
                                </div>
                                <!-- Image Col -->
                                <div class="mega-image-col">
                                    {% if section.settings.mega_menu_image != blank %}
                                        <img src="{{ section.settings.mega_menu_image | image_url: width: 800 }}" alt="Featured">
                                    {% else %}
                                        <img src="{{ 'product-2.png' | asset_url }}" alt="Featured Body Candles">
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </nav>
    </div>

    <!-- Search Overlay -->
    <div class="search-overlay">
        <div class="container search-container">
            <form action="{{ routes.search_url }}" method="get" role="search">
                <input type="text" name="q" class="search-input" placeholder="Search for products, collections...">
            </form>
            <button class="icon-btn search-close" aria-label="Close Search">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "mega_menu_image",
      "label": "Mega Menu Promotional Image"
    }
  ]
}
{% endschema %}
