<main>
    <!-- HERO SECTION -->
    <section class="story-hero mt-0">
        <div class="story-hero-overlay"></div>
        <div class="story-hero-content">
            <h1 class="font-sans mb-4"
                style="font-size: 48px; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 400;">{{ section.settings.hero_title }}</h1>
            <hr style="width: 40px; margin: 0 auto; border: none; border-top: 2px solid white;">
            <p class="text-body mt-8 mx-auto"
                style="font-size: 14px; max-width: 500px; color: rgba(255,255,255,0.9);">{{ section.settings.hero_text }}</p>
        </div>
    </section>

    <!-- INTRO QUOTE -->
    <section class="intro-quote section-block text-center container" style="max-width: 800px; padding: 60px 24px;">
        <span class="quote-icon"
            style="color: #A39382; font-size: 35px; margin-bottom: 24px; display: block;">"</span>
        <h2 class="font-sans text-md font-weight-normal mb-8 mx-auto" style="line-height: 1.4; color: #3F3229;">
            {{ section.settings.quote_text }}</h2>
        <hr style="width: 60px; margin: 0 auto; border: none; border-top: 1px solid var(--border-heavy);">
    </section>

    <!-- STORIES GRID -->
    <section class="community-stories container pb-16">
        <div class="section-header flex-between align-end mb-8">
            <h2 class="font-sans text-md font-weight-normal">{{ section.settings.grid_title }}</h2>
            <span class="eyebrow text-muted"
                style="font-size: 10px; letter-spacing: 0.2em; text-transform: uppercase;">{{ section.settings.grid_subtitle }}</span>
        </div>

        <div class="grid-cols-2 gap-8 masonry-grid">
            <!-- Col 1 -->
            <div class="masonry-col">
                {% for block in section.blocks %}
                    {% assign mod = forloop.index | modulo: 2 %}
                    {% if mod == 1 %}
                    <div class="ys-card mb-8" {{ block.shopify_attributes }}>
                        <div class="ys-img-wrap" style="aspect-ratio: 4/3; position: relative;">
                            <span class="ys-badge"
                                style="position: absolute; top: 16px; left: 16px; background: rgba(63, 50, 41, 0.8); color: white; padding: 4px 8px; font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; z-index: 2;">{{ block.settings.badge }}</span>
                            {% if block.settings.image != blank %}
                                <img src="{{ block.settings.image | image_url: width: 800 }}" alt="{{ block.settings.title | escape }}" style="width:100%; height:100%; object-fit:cover;">
                            {% else %}
                                <img src="{{ 'product-2.png' | asset_url }}" alt="Fallback" style="width:100%; height:100%; object-fit:cover;">
                            {% endif %}
                        </div>
                        <div class="ys-content" style="background: #E8E6E1; padding: 40px;">
                            <h3 class="font-sans text-md font-weight-normal mb-4" style="font-size: 24px;">{{ block.settings.title }}</h3>
                            <p class="text-sm text-muted mb-8" style="line-height: 1.6;">{{ block.settings.text }}</p>
                            <span class="ys-author text-micro text-muted uppercase tracking-widest"
                                style="border-top: 1px solid var(--border-light); padding-top: 16px; display: block; font-size: 10px;">— {{ block.settings.author }}</span>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>

            <!-- Col 2 -->
            <div class="masonry-col" style="margin-top: 0px;">
                {% for block in section.blocks %}
                    {% assign mod = forloop.index | modulo: 2 %}
                    {% if mod == 0 %}
                    <div class="ys-card mb-8" {{ block.shopify_attributes }}>
                        <div class="ys-img-wrap" style="aspect-ratio: 4/3; position: relative;">
                            <span class="ys-badge"
                                style="position: absolute; top: 16px; left: 16px; background: rgba(63, 50, 41, 0.8); color: white; padding: 4px 8px; font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; z-index: 2;">{{ block.settings.badge }}</span>
                            {% if block.settings.image != blank %}
                                <img src="{{ block.settings.image | image_url: width: 800 }}" alt="{{ block.settings.title | escape }}" style="width:100%; height:100%; object-fit:cover;">
                            {% else %}
                                <img src="{{ 'product-1.png' | asset_url }}" alt="Fallback" style="width:100%; height:100%; object-fit:cover;">
                            {% endif %}
                        </div>
                        <div class="ys-content" style="background: #F6F4EF; padding: 40px;">
                            <h3 class="font-sans text-md font-weight-normal mb-4" style="font-size: 24px;">{{ block.settings.title }}</h3>
                            <p class="text-sm text-muted mb-8" style="line-height: 1.6;">{{ block.settings.text }}</p>
                            <span class="ys-author text-micro text-muted uppercase tracking-widest"
                                style="border-top: 1px solid var(--border-light); padding-top: 16px; display: block; font-size: 10px;">— {{ block.settings.author }}</span>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- BELIEF BANNER SPLIT -->
    <section class="split-belief" style="background-color: #EBE8E3; padding: 120px 0;">
        <div class="container" style="display: flex; align-items: center; justify-content: center; gap: 60px;">
            <div class="split-left" style="flex: 0 0 auto; max-width: 400px;">
                <span class="eyebrow text-muted uppercase"
                    style="font-size: 10px; letter-spacing: 0.2em; display: block; margin-bottom: 24px;">{{ section.settings.banner_eyebrow }}</span>
                <h2 class="font-sans font-weight-normal"
                    style="line-height: 1.2; text-transform: uppercase; font-size: 34px; margin: 0; color: var(--color-mocha);">
                    {{ section.settings.banner_heading | newline_to_br }}</h2>
            </div>
            <div style="width: 1px; height: 100px; background-color: rgba(163, 147, 130, 0.4);"></div>
            <div class="split-right" style="flex: 0 0 auto; max-width: 360px;">
                <p class="text-sm text-muted" style="line-height: 1.6; font-size: 13px; margin: 0;">{{ section.settings.banner_text }}</p>
            </div>
        </div>
    </section>

    <!-- SUBMIT FORM -->
    <section class="story-submit-section section-block container text-center pt-24 pb-24"
        style="max-width: 800px; padding: 120px 24px;">
        <span class="eyebrow text-muted uppercase tracking-widest"
            style="font-size: 10px; letter-spacing: 0.2em;">{{ section.settings.form_eyebrow }}</span>
        <h2 class="font-serif text-h1 font-weight-normal mt-6 mb-4"
            style="text-transform: uppercase; font-size: 36px; letter-spacing: 0.05em;">{{ section.settings.form_title }}</h2>
        <p class="text-sm text-muted mb-12" style="margin-bottom: 48px;">{{ section.settings.form_subtitle }}</p>

        {% form 'contact', class: 'ys-form text-left' %}
            {% if form.posted_successfully? %}
                <p class="success-message">Thanks for sharing your story! We'll be in touch soon.</p>
            {% endif %}
            {{ form.errors | default_errors }}
            <div class="grid-cols-2 gap-4 mb-4"
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                <div class="form-group">
                    <label class="ys-label"
                        style="font-size: 10px; letter-spacing: 0.1em; color: var(--text-muted); display: block; margin-bottom: 8px;">YOUR
                        NAME</label>
                    <input type="text" name="contact[name]" placeholder="First & Last Name" class="ys-input form-input"
                        style="width: 100%; border: 1px solid var(--border-heavy); padding: 16px; background: transparent;" required>
                </div>
                <div class="form-group">
                    <label class="ys-label"
                        style="font-size: 10px; letter-spacing: 0.1em; color: var(--text-muted); display: block; margin-bottom: 8px;">EMAIL
                        ADDRESS</label>
                    <input type="email" name="contact[email]" placeholder="your@email.com" class="ys-input form-input"
                        style="width: 100%; border: 1px solid var(--border-heavy); padding: 16px; background: transparent;" required>
                </div>
            </div>
            <div class="form-group mb-4" style="margin-bottom: 16px;">
                <label class="ys-label"
                    style="font-size: 10px; letter-spacing: 0.1em; color: var(--text-muted); display: block; margin-bottom: 8px;">YOUR
                    NARRATIVE</label>
                <textarea
                    name="contact[body]"
                    placeholder="Tell us your story. How did a Scents by Sara candle become part of a moment that mattered to you?"
                    class="ys-input ys-textarea form-input"
                    style="width: 100%; border: 1px solid var(--border-heavy); padding: 16px; min-height: 200px; resize: none; background: transparent;" required></textarea>
            </div>
            <p class="ys-disclaimer text-muted mb-8"
                style="font-size: 9px; line-height: 1.4; color: #a39382; margin-bottom: 32px;">{{ section.settings.form_disclaimer }}</p>
            <div class="text-center" style="margin-bottom: 60px;">
                <button type="submit" class="btn-solid"
                    style="min-width: 240px; padding: 18px 32px; font-size: 12px; letter-spacing: 0.2em; border: 1px solid transparent; transition: all 0.3s ease;">
                    SEND NARRATIVE
                </button>
            </div>
        {% endform %}
    </section>
</main>

{% schema %}
{
  "name": "Your Story Page",
  "settings": [
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero Title",
      "default": "YOUR STORY"
    },
    {
      "type": "textarea",
      "id": "hero_text",
      "label": "Hero Text",
      "default": "Every candle tells a story. These are yours — shared moments of transformation, memory, and quiet power."
    },
    {
      "type": "textarea",
      "id": "quote_text",
      "label": "Quote Text",
      "default": "Scents by Sara was built on the stories of real women. We invite you to be part of the narrative."
    },
    {
      "type": "text",
      "id": "grid_title",
      "label": "Grid Title",
      "default": "YOUR STORIES"
    },
    {
      "type": "text",
      "id": "grid_subtitle",
      "label": "Grid Subtitle",
      "default": "AS TOLD BY OUR COMMUNITY"
    },
    {
      "type": "text",
      "id": "banner_eyebrow",
      "label": "Banner Eyebrow",
      "default": "YOUR VOICE MATTERS"
    },
    {
      "type": "textarea",
      "id": "banner_heading",
      "label": "Banner Heading",
      "default": "EVERY SCENT\nHAS A\nSTORY\nWAITING TO BE\nTOLD."
    },
    {
      "type": "textarea",
      "id": "banner_text",
      "label": "Banner Text",
      "default": "Your experience with Scents by Sara is uniquely yours. Whether it sparked a memory, marked a milestone, or simply made a quiet morning feel sacred — we want to hear it."
    },
    {
      "type": "text",
      "id": "form_eyebrow",
      "label": "Form Eyebrow",
      "default": "SHARE WITH US"
    },
    {
      "type": "text",
      "id": "form_title",
      "label": "Form Title",
      "default": "SUBMIT YOUR STORY"
    },
    {
      "type": "textarea",
      "id": "form_subtitle",
      "label": "Form Subtitle",
      "default": "Tell us about your moment. We may feature your story as part of our community pages or in upcoming editorials."
    },
    {
      "type": "textarea",
      "id": "form_disclaimer",
      "label": "Form Disclaimer",
      "default": "By submitting, you agree that Scents by Sara may contact you and potentially publish your story across our platforms with the sole exception that we will credit you by name. We will not share your email address."
    }
  ],
  "blocks": [
    {
      "type": "story",
      "name": "Story Entry",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Story Image"
        },
        {
          "type": "text",
          "id": "badge",
          "label": "Badge Text",
          "default": "SHE IS GRACE"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Story Title",
          "default": "A Moment of Grace"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Story Details",
          "default": "The first time I lit She Is Grace..."
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author Name",
          "default": "AMARA OSEI"
        }
      ]
    }
  ]
}
{% endschema %}
