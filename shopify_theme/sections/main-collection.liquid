<div class="container" style="padding-top: 60px; padding-bottom: 100px;">
    <!-- SHOP HERO -->
    <div class="shop-hero">
        <h1 class="text-h1 font-serif">{{ collection.title | default: 'SHOP ALL' }}</h1>
        <p>
            {% if collection.description != blank %}
                {{ collection.description }}
            {% else %}
                Discover the full Scents By Sara collection. Thoughtfully designed to reflect
                real bodies, each combines sculptural form with meaning detail and intentional craftsmanship.
            {% endif %}
        </p>
    </div>

    <!-- FILTER TOOLBAR -->
    <div class="filter-toolbar">
        <div class="filter-btn">
            <span>FILTER</span>
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"
                stroke-linecap="round" stroke-linejoin="round" style="margin-left: 12px;">
                <line x1="4" y1="21" x2="4" y2="14"></line>
                <line x1="4" y1="10" x2="4" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12" y2="3"></line>
                <line x1="20" y1="21" x2="20" y2="16"></line>
                <line x1="20" y1="12" x2="20" y2="3"></line>
                <line x1="1" y1="14" x2="7" y2="14"></line>
                <line x1="9" y1="8" x2="15" y2="8"></line>
                <line x1="17" y1="16" x2="23" y2="16"></line>
            </svg>
        </div>
        <div class="sort-dropdown">
            <span style="color: var(--color-taupe); margin-right: 12px;">SORT BY:</span>
            <span id="current-sort" style="flex-grow: 1;">PRICE (LOW TO HIGH)</span>
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="1.2">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        </div>
    </div>

    <!-- PRODUCT GRID -->
    <div class="grid-cols-4">
        {% paginate collection.products by 16 %}
            {% for product in collection.products %}
                <div class="product-card shop-card" data-category="all">
                    <a href="{{ product.url }}" class="product-image-wrap">
                        {% if product.featured_image != blank %}
                            <img src="{{ product.featured_image | image_url: width: 800 }}" alt="{{ product.title | escape }}">
                        {% else %}
                            <img src="{{ 'product-1.png' | asset_url }}" alt="SHE IS TIMELESS">
                        {% endif %}
                    </a>

                    <div class="product-options">
                        <div class="size-dropdown">
                            <span>SIZE: {% if product.options_by_name['Size'] %}{{ product.options_by_name['Size'].values.first }}{% else %}STANDARD{% endif %}</span>
                            <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="1.2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <div class="color-swatches">
                            <span class="swatch swatch-white active"></span>
                            <span class="swatch swatch-tan"></span>
                            <span class="swatch swatch-brown"></span>
                        </div>
                    </div>

                    <div class="product-info-shop">
                        <div>
                            <span class="product-name">{{ product.title }}</span>
                            <span class="product-desc">{% if product.metafields.custom.subtitle %}{{ product.metafields.custom.subtitle }}{% else %}Embellished Body Candle{% endif %}</span>
                        </div>
                        <div class="product-price">
                            <span class="price-current">{{ product.price | money }}</span>
                        </div>
                    </div>

                    <form action="/cart/add" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="id" value="{{ product.variants.first.id }}">
                        <button type="button" class="btn-shop-now" onclick="window.location.href='{{ product.url }}'">SHOP NOW</button>
                    </form>
                </div>
            {% else %}
                <p style="grid-column: 1/-1; text-align: center; padding: 40px; font-style: italic;">We haven't added any products to this collection yet.</p>
            {% endfor %}
            <div class="pagination-wrapper" style="grid-column: 1/-1; text-align: center; margin-top: 40px;">
                {{ paginate | default_pagination }}
            </div>
        {% endpaginate %}
    </div>
</div>

{% schema %}
{
  "name": "Collection Main",
  "settings": []
}
{% endschema %}
